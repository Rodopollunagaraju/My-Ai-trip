import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_AI;
  
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate a travel plan for Las Vegas for 3 days for a couple with a cheap budget. Provide hotel options with Hotel Name, Address, Price, Image URL, Geo-coordinates, and Rating. Suggest an itinerary with places to visit Name, Details, Image URL, Geo-coordinates, Ticket Pricing, Rating. Include a daily travel plan for 3 days with the best time to visit each location. Format the response in JSON"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripTitle\": \"Las Vegas on a Budget: 3-Day Couple's Getaway\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"duration\": \"3 Days\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"imageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/73/15/b1/circus-circus-hotel-casino.jpg\",\n       \"geoCoordinates\": {\n          \"latitude\": 36.1372,\n          \"longitude\": -115.1651\n        },\n      \"rating\": 3.8\n    },\n      {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"imageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/6a/6e/4b/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n          \"latitude\": 36.0976,\n          \"longitude\": -115.1745\n        },\n      \"rating\": 4.0\n    },\n     {\n      \"hotelName\": \"Luxor Hotel and Casino\",\n      \"address\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$60 - $100 per night\",\n       \"imageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/6a/6e/70/luxor-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n           \"latitude\": 36.0957,\n           \"longitude\": -115.1741\n        },\n      \"rating\": 4.1\n    }\n\n  ],\n   \"itinerary\": {\n        \"placesToVisit\": [\n      {\n        \"name\": \"Bellagio Conservatory & Botanical Gardens\",\n        \"details\": \"Free botanical garden with themed displays that change seasonally. Stunning and perfect for photos.\",\n        \"imageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/a9/cb/13/bellagio-conservatory-botanical.jpg\",\n         \"geoCoordinates\": {\n          \"latitude\": 36.1129,\n          \"longitude\": -115.1744\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.8\n       },\n       {\n        \"name\": \"Fountains of Bellagio\",\n        \"details\": \"Free water show set to music. Watch from the sidewalk in front of the Bellagio hotel. Shows happen every 30 mins/ 15 mins\",\n         \"imageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/74/78/4a/fountains-of-bellagio.jpg\",\n          \"geoCoordinates\": {\n          \"latitude\": 36.1126,\n          \"longitude\": -115.1735\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.9\n       },\n       {\n          \"name\": \"Fremont Street Experience\",\n          \"details\": \"Pedestrian mall with a light canopy show overhead, street performers, and cheap eats. Visit at night for the full experience.\",\n           \"imageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/1c/78/e0/29/fremont-street-experience.jpg\",\n           \"geoCoordinates\": {\n               \"latitude\": 36.1702,\n               \"longitude\": -115.1402\n           },\n          \"ticketPricing\": \"Free (some attractions and shows have fees)\",\n          \"rating\": 4.5\n       },\n      {\n        \"name\": \"The LINQ Promenade\",\n          \"details\": \"Outdoor shopping and dining area with the High Roller Observation Wheel (optional paid experience), offering a lively atmosphere.\",\n         \"imageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/78/f6/34/the-linq-promenade.jpg\",\n          \"geoCoordinates\": {\n          \"latitude\": 36.1173,\n          \"longitude\": -115.1693\n        },\n        \"ticketPricing\": \"Free (High Roller is paid)\",\n        \"rating\": 4.3\n\n       },\n       {\n          \"name\": \"Welcome to Fabulous Las Vegas Sign\",\n           \"details\": \"Iconic Las Vegas sign, perfect spot for a classic photo op.\",\n         \"imageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/1c/b4/b7/6b/welcome-to-fabulous-las.jpg\",\n          \"geoCoordinates\": {\n          \"latitude\": 36.0826,\n          \"longitude\": -115.1724\n        },\n           \"ticketPricing\": \"Free\",\n           \"rating\": 4.6\n      }\n     ]\n   },\n  \"dailyTravelPlan\": {\n    \"day1\": {\n        \"theme\": \"Exploring the Strip\",\n      \"morning\": {\n         \"time\": \"9:00 AM\",\n          \"activity\": \"Visit the Bellagio Conservatory & Botanical Gardens\",\n          \"details\":\"Start your day with free stunning floral displays. \"\n      },\n      \"afternoon\": {\n          \"time\": \"12:00 PM\",\n          \"activity\": \"Lunch at a cheap food court\",\n          \"details\": \"Grab a budget-friendly lunch in one of the many food courts on the Strip.\"\n\n      },\n     \"afternoon2\": {\n        \"time\":\"2:00PM\",\n        \"activity\":\"Walk along the Strip\",\n         \"details\":\"Enjoy the sights and sounds of the famous Las Vegas Strip, window shopping and taking in the unique architecture.\"\n\n     },\n      \"evening\": {\n          \"time\": \"6:00 PM\",\n          \"activity\": \"Watch the Fountains of Bellagio\",\n          \"details\":\"Experience the mesmerizing water show set to music. \"\n      },\n      \"night\": {\n        \"time\":\"8:00 PM\",\n        \"activity\":\"Dinner and explore the LINQ Promenade\",\n         \"details\":\"Have dinner at affordable restaurant and enjoy the vibrant atmosphere of the LINQ.\"\n\n      }\n\n    },\n    \"day2\": {\n        \"theme\": \"Downtown & Classic Vegas\",\n      \"morning\": {\n        \"time\": \"10:00 AM\",\n          \"activity\": \"Explore Downtown Las Vegas\",\n          \"details\":\"Take a bus or ride-sharing service to downtown.\"\n\n      },\n      \"afternoon\": {\n          \"time\": \"1:00 PM\",\n          \"activity\": \"Lunch at Fremont Street\",\n           \"details\": \"Enjoy lunch at one of the many cheap food spots on Fremont Street.\"\n      },\n       \"afternoon2\": {\n          \"time\":\"2:00PM\",\n           \"activity\":\"Fremont Street Experience\",\n            \"details\": \"Explore the pedestrian mall, take pictures and enjoy street performances. \"\n\n      },\n      \"evening\": {\n        \"time\": \"6:00 PM\",\n           \"activity\": \"Watch the Fremont Street light show\",\n            \"details\": \"Enjoy the vibrant light show that happens overhead.\"\n      },\n       \"night\": {\n            \"time\": \"8:00 PM\",\n             \"activity\": \"Cheap Casino Games\",\n            \"details\": \"If you want, try your luck at some cheap table games with a low minimum at Downtown Casinos.\"\n      }\n    },\n     \"day3\": {\n         \"theme\": \"Iconic Vegas & Departure\",\n      \"morning\": {\n        \"time\": \"9:00 AM\",\n        \"activity\": \"Visit the Welcome to Fabulous Las Vegas Sign\",\n        \"details\": \"Take a taxi or rideshare to the iconic sign for photos.\"\n      },\n       \"morning2\":{\n        \"time\": \"10:00 AM\",\n         \"activity\": \"Walk down the Strip\",\n           \"details\": \"Enjoy sights you may have missed while taking in the last few sights of Vegas.\"\n\n       },\n      \"afternoon\": {\n          \"time\": \"12:00 PM\",\n          \"activity\": \"Lunch at a food court or cheap eat\",\n          \"details\": \"Enjoy a budget-friendly meal. \"\n      },\n      \"afternoon2\":{\n            \"time\": \"2:00 PM\",\n          \"activity\": \"Last minute souveniers or casino visit\",\n          \"details\": \"Do any last minute shopping for souveniers or try one more casino before heading to the airport for departure.\"\n      },\n      \"evening\": {\n          \"time\": \"Variable (depending on flight)\",\n          \"activity\": \"Departure\",\n           \"details\": \"Head to the airport for your flight home.\"\n      }\n    }\n\n  }\n}\n```"},
          ],
        },
      ],
    });